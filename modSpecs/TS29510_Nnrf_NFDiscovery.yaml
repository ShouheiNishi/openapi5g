components:
    parameters:
        searchId:
            description: Id of a stored search
            in: path
            name: searchId
            required: true
            schema:
                type: string
    responses:
        "200":
            content:
                application/json:
                    schema:
                        $ref: '#/components/schemas/StoredSearchResult'
            description: Expected response to a valid request
            headers:
                Cache-Control:
                    description: Cache-Control containing max-age, described in IETF RFC 7234, 5.2
                    schema:
                        type: string
                Content-Encoding:
                    description: Content-Encoding, described in IETF RFC 7231
                    schema:
                        type: string
                ETag:
                    description: Entity Tag containing a strong validator, described in IETF RFC 7232, 2.3
                    schema:
                        type: string
    schemas:
        NFProfile:
            additionalProperties: true
            description: Information of an NF Instance discovered by the NRF
            properties:
                amfInfo:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/AmfInfo
                amfInfoList:
                    additionalProperties:
                        $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/AmfInfo
                    minProperties: 1
                    type: object
                ausfInfo:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/AusfInfo
                ausfInfoList:
                    additionalProperties:
                        $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/AusfInfo
                    minProperties: 1
                    type: object
                bsfInfo:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/BsfInfo
                bsfInfoList:
                    additionalProperties:
                        $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/BsfInfo
                    minProperties: 1
                    type: object
                capacity:
                    maximum: 65535
                    minimum: 0
                    type: integer
                chfInfo:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/ChfInfo
                chfInfoList:
                    additionalProperties:
                        $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/ChfInfo
                    minProperties: 1
                    type: object
                customInfo:
                    type: object
                defaultNotificationSubscriptions:
                    items:
                        $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/DefaultNotificationSubscription
                    type: array
                fqdn:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/Fqdn
                gmlcInfo:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/GmlcInfo
                hssInfoList:
                    additionalProperties:
                        $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/HssInfo
                    minProperties: 1
                    type: object
                ipv4Addresses:
                    items:
                        $ref: TS29571_CommonData.yaml#/components/schemas/Ipv4Addr
                    minItems: 1
                    type: array
                ipv6Addresses:
                    items:
                        $ref: TS29571_CommonData.yaml#/components/schemas/Ipv6Addr
                    minItems: 1
                    type: array
                lcHSupportInd:
                    default: false
                    type: boolean
                lmfInfo:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/LmfInfo
                load:
                    maximum: 100
                    minimum: 0
                    type: integer
                loadTimeStamp:
                    $ref: TS29571_CommonData.yaml#/components/schemas/DateTime
                locality:
                    type: string
                nefInfo:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/NefInfo
                nfInstanceId:
                    $ref: TS29571_CommonData.yaml#/components/schemas/NfInstanceId
                nfInstanceName:
                    type: string
                nfServiceList:
                    additionalProperties:
                        $ref: '#/components/schemas/NFService'
                    minProperties: 1
                    type: object
                nfServicePersistence:
                    default: false
                    type: boolean
                nfServices:
                    deprecated: true
                    items:
                        $ref: '#/components/schemas/NFService'
                    minItems: 1
                    type: array
                nfSetIdList:
                    items:
                        $ref: TS29571_CommonData.yaml#/components/schemas/NfSetId
                    minItems: 1
                    type: array
                nfSetRecoveryTimeList:
                    additionalProperties:
                        $ref: TS29571_CommonData.yaml#/components/schemas/DateTime
                    minProperties: 1
                    type: object
                nfStatus:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFStatus
                nfType:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFType
                nsiList:
                    items:
                        type: string
                    minItems: 1
                    type: array
                nwdafInfo:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/NwdafInfo
                olcHSupportInd:
                    default: false
                    type: boolean
                pcfInfo:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/PcfInfo
                pcfInfoList:
                    additionalProperties:
                        $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/PcfInfo
                    minProperties: 1
                    type: object
                pcscfInfoList:
                    additionalProperties:
                        $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/PcscfInfo
                    minProperties: 1
                    type: object
                perPlmnSnssaiList:
                    items:
                        $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/PlmnSnssai
                    minItems: 1
                    type: array
                plmnList:
                    items:
                        $ref: TS29571_CommonData.yaml#/components/schemas/PlmnId
                    minItems: 1
                    type: array
                priority:
                    maximum: 65535
                    minimum: 0
                    type: integer
                recoveryTime:
                    $ref: TS29571_CommonData.yaml#/components/schemas/DateTime
                sNssais:
                    items:
                        $ref: TS29571_CommonData.yaml#/components/schemas/ExtSnssai
                    minItems: 1
                    type: array
                scpDomains:
                    items:
                        type: string
                    minItems: 1
                    type: array
                scpInfo:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/ScpInfo
                serviceSetRecoveryTimeList:
                    additionalProperties:
                        $ref: TS29571_CommonData.yaml#/components/schemas/DateTime
                    minProperties: 1
                    type: object
                servingScope:
                    items:
                        type: string
                    minItems: 1
                    type: array
                smfInfo:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/SmfInfo
                smfInfoList:
                    additionalProperties:
                        $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/SmfInfo
                    minProperties: 1
                    type: object
                snpnList:
                    items:
                        $ref: TS29571_CommonData.yaml#/components/schemas/PlmnIdNid
                    minItems: 1
                    type: array
                udmInfo:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/UdmInfo
                udmInfoList:
                    additionalProperties:
                        $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/UdmInfo
                    minProperties: 1
                    type: object
                udrInfo:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/UdrInfo
                udrInfoList:
                    additionalProperties:
                        $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/UdrInfo
                    minProperties: 1
                    type: object
                udsfInfo:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/UdsfInfo
                udsfInfoList:
                    additionalProperties:
                        $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/UdsfInfo
                    minProperties: 1
                    type: object
                upfInfo:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/UpfInfo
                upfInfoList:
                    additionalProperties:
                        $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/UpfInfo
                    minProperties: 1
                    type: object
            required:
                - nfInstanceId
                - nfType
                - nfStatus
            type: object
        NFService:
            additionalProperties: true
            description: Information of a given NF Service Instance; it is part of the NFProfile of an NF Instance discovered by the NRF
            properties:
                allowedOperationsPerNfInstance:
                    additionalProperties:
                        items:
                            type: string
                        minItems: 1
                        type: array
                    minProperties: 1
                    type: object
                allowedOperationsPerNfType:
                    additionalProperties:
                        items:
                            type: string
                        minItems: 1
                        type: array
                    minProperties: 1
                    type: object
                apiPrefix:
                    type: string
                capacity:
                    maximum: 65535
                    minimum: 0
                    type: integer
                defaultNotificationSubscriptions:
                    items:
                        $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/DefaultNotificationSubscription
                    minItems: 1
                    type: array
                fqdn:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/Fqdn
                ipEndPoints:
                    items:
                        $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/IpEndPoint
                    minItems: 1
                    type: array
                load:
                    maximum: 100
                    minimum: 0
                    type: integer
                loadTimeStamp:
                    $ref: TS29571_CommonData.yaml#/components/schemas/DateTime
                nfServiceSetIdList:
                    items:
                        $ref: TS29571_CommonData.yaml#/components/schemas/NfServiceSetId
                    minItems: 1
                    type: array
                nfServiceStatus:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFServiceStatus
                oauth2Required:
                    type: boolean
                perPlmnSnssaiList:
                    items:
                        $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/PlmnSnssai
                    minItems: 1
                    type: array
                priority:
                    maximum: 65535
                    minimum: 0
                    type: integer
                recoveryTime:
                    $ref: TS29571_CommonData.yaml#/components/schemas/DateTime
                sNssais:
                    items:
                        $ref: TS29571_CommonData.yaml#/components/schemas/ExtSnssai
                    minItems: 1
                    type: array
                scheme:
                    $ref: TS29571_CommonData.yaml#/components/schemas/UriScheme
                serviceInstanceId:
                    type: string
                serviceName:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/ServiceName
                supportedFeatures:
                    $ref: TS29571_CommonData.yaml#/components/schemas/SupportedFeatures
                supportedVendorSpecificFeatures:
                    additionalProperties:
                        items:
                            $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/VendorSpecificFeature
                        minItems: 1
                        type: array
                    minProperties: 1
                    type: object
                vendorId:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/VendorId
                versions:
                    items:
                        $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFServiceVersion
                    minItems: 1
                    type: array
            required:
                - serviceInstanceId
                - serviceName
                - versions
                - scheme
                - nfServiceStatus
            type: object
        PreferredSearch:
            additionalProperties: true
            description: Contains information on whether the returned NFProfiles match the preferred query parameters
            properties:
                otherApiVersionsInd:
                    type: boolean
                otherLocalityInd:
                    default: false
                    type: boolean
                preferredApiVersionsMatchInd:
                    type: boolean
                preferredFullPlmnMatchInd:
                    default: false
                    type: boolean
                preferredLocalityMatchInd:
                    default: false
                    type: boolean
                preferredTaiMatchInd:
                    default: false
                    type: boolean
            type: object
        SearchResult:
            additionalProperties: true
            description: Contains the list of NF Profiles returned in a Discovery response
            properties:
                nfInstances:
                    items:
                        $ref: '#/components/schemas/NFProfile'
                    type: array
                nrfSupportedFeatures:
                    $ref: TS29571_CommonData.yaml#/components/schemas/SupportedFeatures
                numNfInstComplete:
                    $ref: TS29571_CommonData.yaml#/components/schemas/Uint32
                preferredSearch:
                    $ref: '#/components/schemas/PreferredSearch'
                searchId:
                    type: string
                validityPeriod:
                    type: integer
            required:
                - nfInstances
            type: object
        StoredSearchResult:
            additionalProperties: true
            description: Contains a complete search result (i.e. a number of discovered NF Instances), stored by NRF as a consequence of a prior search result
            properties:
                nfInstances:
                    items:
                        $ref: '#/components/schemas/NFProfile'
                    type: array
            required:
                - nfInstances
            type: object
    securitySchemes:
        oAuth2ClientCredentials:
            flows:
                clientCredentials:
                    scopes:
                        nnrf-disc: Access to the Nnrf_NFDiscovery API
                    tokenUrl: /oauth2/token
            type: oauth2
externalDocs:
    description: 3GPP TS 29.510 V16.13.0; 5G System; Network Function Repository Services; Stage 3
    url: https://www.3gpp.org/ftp/Specs/archive/29_series/29.510/
info:
    description: "NRF NFDiscovery Service.  \n© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).  \nAll rights reserved.\n"
    title: NRF NFDiscovery Service
    version: 1.1.8
openapi: 3.0.0
paths:
    /nf-instances:
        get:
            operationId: SearchNFInstances
            parameters:
                - description: Accept-Encoding, described in IETF RFC 7231
                  in: header
                  name: Accept-Encoding
                  schema:
                    type: string
                - description: Type of the target NF
                  in: query
                  name: target-nf-type
                  required: true
                  schema:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFType
                - description: Type of the requester NF
                  in: query
                  name: requester-nf-type
                  required: true
                  schema:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFType
                - description: NfInstanceId of the requester NF
                  in: query
                  name: requester-nf-instance-id
                  schema:
                    $ref: TS29571_CommonData.yaml#/components/schemas/NfInstanceId
                - description: Names of the services offered by the NF
                  explode: false
                  in: query
                  name: service-names
                  schema:
                    items:
                        $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/ServiceName
                    minItems: 1
                    type: array
                    uniqueItems: true
                  style: form
                - description: FQDN of the requester NF
                  in: query
                  name: requester-nf-instance-fqdn
                  schema:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/Fqdn
                - content:
                    application/json:
                        schema:
                            items:
                                $ref: TS29571_CommonData.yaml#/components/schemas/PlmnId
                            minItems: 1
                            type: array
                  description: Id of the PLMN of the target NF
                  in: query
                  name: target-plmn-list
                - content:
                    application/json:
                        schema:
                            items:
                                $ref: TS29571_CommonData.yaml#/components/schemas/PlmnId
                            minItems: 1
                            type: array
                  description: Id of the PLMN where the NF issuing the Discovery request is located
                  in: query
                  name: requester-plmn-list
                - description: Identity of the NF instance being discovered
                  in: query
                  name: target-nf-instance-id
                  schema:
                    $ref: TS29571_CommonData.yaml#/components/schemas/NfInstanceId
                - description: FQDN of the NF instance being discovered
                  in: query
                  name: target-nf-fqdn
                  schema:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/Fqdn
                - description: Uri of the home NRF
                  in: query
                  name: hnrf-uri
                  schema:
                    $ref: TS29571_CommonData.yaml#/components/schemas/Uri
                - content:
                    application/json:
                        schema:
                            items:
                                $ref: TS29571_CommonData.yaml#/components/schemas/Snssai
                            minItems: 1
                            type: array
                  description: Slice info of the target NF
                  in: query
                  name: snssais
                - content:
                    application/json:
                        schema:
                            items:
                                $ref: TS29571_CommonData.yaml#/components/schemas/Snssai
                            minItems: 1
                            type: array
                  description: Slice info of the requester NF
                  in: query
                  name: requester-snssais
                - content:
                    application/json:
                        schema:
                            items:
                                $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/PlmnSnssai
                            minItems: 1
                            type: array
                  description: PLMN specific Slice info of the target NF
                  in: query
                  name: plmn-specific-snssai-list
                - content:
                    application/json:
                        schema:
                            items:
                                $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/PlmnSnssai
                            minItems: 1
                            type: array
                  description: PLMN-specific slice info of the NF issuing the Discovery request
                  in: query
                  name: requester-plmn-specific-snssai-list
                - description: Dnn supported by the BSF, SMF or UPF
                  in: query
                  name: dnn
                  schema:
                    $ref: TS29571_CommonData.yaml#/components/schemas/Dnn
                - description: NSI IDs that are served by the services being discovered
                  explode: false
                  in: query
                  name: nsi-list
                  schema:
                    items:
                        type: string
                    minItems: 1
                    type: array
                  style: form
                - in: query
                  name: smf-serving-area
                  schema:
                    type: string
                - content:
                    application/json:
                        schema:
                            $ref: TS29571_CommonData.yaml#/components/schemas/Tai
                  description: Tracking Area Identity
                  in: query
                  name: tai
                - description: AMF Region Identity
                  in: query
                  name: amf-region-id
                  schema:
                    $ref: TS29571_CommonData.yaml#/components/schemas/AmfRegionId
                - description: AMF Set Identity
                  in: query
                  name: amf-set-id
                  schema:
                    $ref: TS29571_CommonData.yaml#/components/schemas/AmfSetId
                - content:
                    application/json:
                        schema:
                            $ref: TS29571_CommonData.yaml#/components/schemas/Guami
                  description: Guami used to search for an appropriate AMF
                  in: query
                  name: guami
                - description: SUPI of the user
                  in: query
                  name: supi
                  schema:
                    $ref: TS29571_CommonData.yaml#/components/schemas/Supi
                - description: IPv4 address of the UE
                  in: query
                  name: ue-ipv4-address
                  schema:
                    $ref: TS29571_CommonData.yaml#/components/schemas/Ipv4Addr
                - description: IP domain of the UE, which supported by BSF
                  in: query
                  name: ip-domain
                  schema:
                    type: string
                - description: IPv6 prefix of the UE
                  in: query
                  name: ue-ipv6-prefix
                  schema:
                    $ref: TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix
                - description: Combined PGW-C and SMF or a standalone SMF
                  in: query
                  name: pgw-ind
                  schema:
                    type: boolean
                - description: PGW FQDN of a combined PGW-C and SMF
                  in: query
                  name: pgw
                  schema:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/Fqdn
                - description: GPSI of the user
                  in: query
                  name: gpsi
                  schema:
                    $ref: TS29571_CommonData.yaml#/components/schemas/Gpsi
                - description: external group identifier of the user
                  in: query
                  name: external-group-identity
                  schema:
                    $ref: TS29503_Nudm_SDM.yaml#/components/schemas/ExtGroupId
                - description: internal group identifier of the user
                  in: query
                  name: internal-group-identity
                  schema:
                    $ref: TS29571_CommonData.yaml#/components/schemas/GroupId
                - content:
                    application/json:
                        schema:
                            $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/PfdData
                  description: PFD data
                  in: query
                  name: pfd-data
                - description: data set supported by the NF
                  in: query
                  name: data-set
                  schema:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/DataSetId
                - description: routing indicator in SUCI
                  in: query
                  name: routing-indicator
                  schema:
                    pattern: ^[0-9]{1,4}$
                    type: string
                - description: Group IDs of the NFs being discovered
                  explode: false
                  in: query
                  name: group-id-list
                  schema:
                    items:
                        $ref: TS29571_CommonData.yaml#/components/schemas/NfGroupId
                    minItems: 1
                    type: array
                  style: form
                - description: Data network access identifiers of the NFs being discovered
                  explode: false
                  in: query
                  name: dnai-list
                  schema:
                    items:
                        $ref: TS29571_CommonData.yaml#/components/schemas/Dnai
                    minItems: 1
                    type: array
                  style: form
                - description: list of PDU Session Type required to be supported by the target NF
                  explode: false
                  in: query
                  name: pdu-session-types
                  schema:
                    items:
                        $ref: TS29571_CommonData.yaml#/components/schemas/PduSessionType
                    minItems: 1
                    type: array
                  style: form
                - description: Analytics event(s) requested to be supported by the Nnwdaf_AnalyticsInfo service
                  explode: false
                  in: query
                  name: event-id-list
                  schema:
                    items:
                        description: |-
                            Possible values are - LOAD_LEVEL_INFORMATION: Represent the analytics of load level information of corresponding network slice. - NETWORK_PERFORMANCE: Represent the analytics of network performance information. - NF_LOAD: Indicates that the event subscribed is NF Load. - SERVICE_EXPERIENCE: Represent the analytics of service experience information of the specific applications. - UE_MOBILITY: Represent the analytics of UE mobility. - UE_COMMUNICATION: Represent the analytics of UE communication. - QOS_SUSTAINABILITY: Represent the analytics of QoS sustainability information in the certain area.  - ABNORMAL_BEHAVIOUR: Indicates that the event subscribed is abnormal behaviour information. - USER_DATA_CONGESTION: Represent the analytics of the user data congestion in the certain area. - NSI_LOAD_LEVEL: Represent the analytics of Network Slice and the optionally associated Network Slice Instance.
                             (Original reference TS29520_Nnwdaf_AnalyticsInfo.yaml#/components/schemas/EventId)
                    minItems: 1
                    type: array
                  style: form
                - description: Analytics event(s) requested to be supported by the Nnwdaf_EventsSubscription service.
                  explode: false
                  in: query
                  name: nwdaf-event-list
                  schema:
                    items:
                        description: |-
                            Possible values are - SLICE_LOAD_LEVEL: Indicates that the event subscribed is load level information of Network Slice - NETWORK_PERFORMANCE: Indicates that the event subscribed is network performance information. - NF_LOAD: Indicates that the event subscribed is load level and status of one or several Network Functions. - SERVICE_EXPERIENCE: Indicates that the event subscribed is service experience. - UE_MOBILITY: Indicates that the event subscribed is UE mobility information. - UE_COMMUNICATION: Indicates that the event subscribed is UE communication information. - QOS_SUSTAINABILITY: Indicates that the event subscribed is QoS sustainability. - ABNORMAL_BEHAVIOUR: Indicates that the event subscribed is abnormal behaviour. - USER_DATA_CONGESTION: Indicates that the event subscribed is user data congestion information. - NSI_LOAD_LEVEL: Indicates that the event subscribed is load level information of Network Slice and the optionally associated Network Slice Instance
                             (Original reference TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NwdafEvent)
                    minItems: 1
                    type: array
                  style: form
                - description: Features required to be supported by the target NF
                  in: query
                  name: supported-features
                  schema:
                    $ref: TS29571_CommonData.yaml#/components/schemas/SupportedFeatures
                - description: UPF supporting interworking with EPS or not
                  in: query
                  name: upf-iwk-eps-ind
                  schema:
                    type: boolean
                - content:
                    application/json:
                        schema:
                            $ref: TS29571_CommonData.yaml#/components/schemas/PlmnId
                  description: PLMN ID supported by a CHF
                  in: query
                  name: chf-supported-plmn
                - description: preferred target NF location
                  in: query
                  name: preferred-locality
                  schema:
                    type: string
                - description: AccessType supported by the target NF
                  in: query
                  name: access-type
                  schema:
                    $ref: TS29571_CommonData.yaml#/components/schemas/AccessType
                - description: Maximum number of NFProfiles to return in the response
                  in: query
                  name: limit
                  schema:
                    minimum: 1
                    type: integer
                - description: Features required to be supported by the target NF
                  explode: false
                  in: query
                  name: required-features
                  schema:
                    items:
                        $ref: TS29571_CommonData.yaml#/components/schemas/SupportedFeatures
                    minItems: 1
                    type: array
                  style: form
                - content:
                    application/json:
                        schema:
                            $ref: TS29571_CommonData.yaml#/components/schemas/ComplexQuery
                  description: the complex query condition expression
                  in: query
                  name: complex-query
                - description: Maximum payload size of the response expressed in kilo octets
                  in: query
                  name: max-payload-size
                  schema:
                    default: 124
                    maximum: 2000
                    type: integer
                - description: Extended query for maximum payload size of the response expressed in kilo octets
                  in: query
                  name: max-payload-size-ext
                  schema:
                    default: 124
                    type: integer
                - content:
                    application/json:
                        schema:
                            $ref: TS29571_CommonData.yaml#/components/schemas/AtsssCapability
                  description: ATSSS Capability
                  in: query
                  name: atsss-capability
                - description: UPF supporting allocating UE IP addresses/prefixes
                  in: query
                  name: upf-ue-ip-addr-ind
                  schema:
                    type: boolean
                - content:
                    application/json:
                        schema:
                            description: Original reference TS29572_Nlmf_Location.yaml#/components/schemas/ExternalClientType
                  description: Requested client type served by the NF
                  in: query
                  name: client-type
                - content:
                    application/json:
                        schema:
                            description: Original reference TS29572_Nlmf_Location.yaml#/components/schemas/LMFIdentification
                  description: LMF identification to be discovered
                  in: query
                  name: lmf-id
                - content:
                    application/json:
                        schema:
                            $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/AnNodeType
                  description: Requested AN node type served by the NF
                  in: query
                  name: an-node-type
                - content:
                    application/json:
                        schema:
                            $ref: TS29571_CommonData.yaml#/components/schemas/RatType
                  description: Requested RAT type served by the NF
                  in: query
                  name: rat-type
                - content:
                    application/json:
                        schema:
                            $ref: TS29571_CommonData.yaml#/components/schemas/Tai
                  description: preferred Tracking Area Identity
                  in: query
                  name: preferred-tai
                - description: preferred NF Instances
                  explode: false
                  in: query
                  name: preferred-nf-instances
                  schema:
                    items:
                        $ref: TS29571_CommonData.yaml#/components/schemas/NfInstanceId
                    minItems: 1
                    type: array
                  style: form
                - description: Validator for conditional requests, as described in IETF RFC 7232, 3.2
                  in: header
                  name: If-None-Match
                  schema:
                    type: string
                - content:
                    application/json:
                        schema:
                            $ref: TS29571_CommonData.yaml#/components/schemas/PlmnIdNid
                  description: Target SNPN Identity
                  in: query
                  name: target-snpn
                - content:
                    application/json:
                        schema:
                            items:
                                $ref: TS29571_CommonData.yaml#/components/schemas/PlmnIdNid
                            minItems: 1
                            type: array
                  description: SNPN ID(s) of the NF instance issuing the Discovery request
                  in: query
                  name: requester-snpn-list
                - content:
                    application/json:
                        schema:
                            $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/AfEventExposureData
                  description: NEF exposured by the AF
                  in: query
                  name: af-ee-data
                - content:
                    application/json:
                        schema:
                            $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/WAgfInfo
                  description: UPF collocated with W-AGF
                  in: query
                  name: w-agf-info
                - content:
                    application/json:
                        schema:
                            $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/TngfInfo
                  description: UPF collocated with TNGF
                  in: query
                  name: tngf-info
                - content:
                    application/json:
                        schema:
                            $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/TwifInfo
                  description: UPF collocated with TWIF
                  in: query
                  name: twif-info
                - description: Target NF Set ID
                  in: query
                  name: target-nf-set-id
                  schema:
                    $ref: TS29571_CommonData.yaml#/components/schemas/NfSetId
                - description: Target NF Service Set ID
                  in: query
                  name: target-nf-service-set-id
                  schema:
                    $ref: TS29571_CommonData.yaml#/components/schemas/NfServiceSetId
                - description: NEF ID
                  in: query
                  name: nef-id
                  schema:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/NefId
                - description: Notification Type
                  in: query
                  name: notification-type
                  schema:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/NotificationType
                - description: N1 Message Class
                  in: query
                  name: n1-msg-class
                  schema:
                    $ref: TS29518_Namf_Communication.yaml#/components/schemas/N1MessageClass
                - description: N2 Information Class
                  in: query
                  name: n2-info-class
                  schema:
                    $ref: TS29518_Namf_Communication.yaml#/components/schemas/N2InformationClass
                - description: areas that can be served by the target NF
                  explode: false
                  in: query
                  name: serving-scope
                  schema:
                    items:
                        type: string
                    minItems: 1
                    type: array
                  style: form
                - description: IMSI of the requester UE to search for an appropriate NF (e.g. HSS)
                  in: query
                  name: imsi
                  schema:
                    type: string
                - description: IMPI of the requester UE to search for a target HSS
                  in: query
                  name: ims-private-identity
                  schema:
                    type: string
                - description: IMS Public Identity of the requester UE to search for a target HSS
                  in: query
                  name: ims-public-identity
                  schema:
                    type: string
                - description: MSISDN of the requester UE to search for a target HSS
                  in: query
                  name: msisdn
                  schema:
                    type: string
                - content:
                    application/json:
                        schema:
                            additionalProperties:
                                type: string
                            minProperties: 1
                            type: object
                  description: Preferred API version of the services to be discovered
                  in: query
                  name: preferred-api-versions
                - description: PCF supports V2X
                  in: query
                  name: v2x-support-ind
                  schema:
                    type: boolean
                - description: UPF supports redundant gtp-u to be discovered
                  in: query
                  name: redundant-gtpu
                  schema:
                    type: boolean
                - description: UPF supports redundant transport path to be discovered
                  in: query
                  name: redundant-transport
                  schema:
                    type: boolean
                - description: UPF which is configured for IPUPS functionality to be discovered
                  in: query
                  name: ipups
                  schema:
                    type: boolean
                - description: SCP domains the target SCP belongs to
                  explode: false
                  in: query
                  name: scp-domain-list
                  schema:
                    items:
                        type: string
                    minItems: 1
                    type: array
                  style: form
                - description: Address domain reachable through the SCP
                  in: query
                  name: address-domain
                  schema:
                    $ref: TS29510_Nnrf_NFManagement.yaml#/components/schemas/Fqdn
                - description: IPv4 address reachable through the SCP
                  in: query
                  name: ipv4-addr
                  schema:
                    $ref: TS29571_CommonData.yaml#/components/schemas/Ipv4Addr
                - description: IPv6 prefix reachable through the SCP
                  in: query
                  name: ipv6-prefix
                  schema:
                    $ref: TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix
                - description: NF Set ID served by the SCP
                  in: query
                  name: served-nf-set-id
                  schema:
                    $ref: TS29571_CommonData.yaml#/components/schemas/NfSetId
                - content:
                    application/json:
                        schema:
                            $ref: TS29571_CommonData.yaml#/components/schemas/PlmnId
                  description: Id of the PLMN reachable through the SCP
                  in: query
                  name: remote-plmn-id
                - description: UPF Instance(s) configured for data forwarding are requested
                  in: query
                  name: data-forwarding
                  schema:
                    type: boolean
                - description: NF Instance(s) serving the full PLMN are preferred
                  in: query
                  name: preferred-full-plmn
                  schema:
                    type: boolean
                - description: Features supported by the NF Service Consumer that is invoking the Nnrf_NFDiscovery service
                  in: query
                  name: requester-features
                  schema:
                    $ref: TS29571_CommonData.yaml#/components/schemas/SupportedFeatures
                - description: realm-id to search for an appropriate UDSF
                  in: query
                  name: realm-id
                  schema:
                    type: string
                - description: storage-id to search for an appropriate UDSF
                  in: query
                  name: storage-id
                  schema:
                    type: string
                - description: V-SMF capability supported by the target NF instance(s)
                  in: query
                  name: vsmf-support-ind
                  schema:
                    type: boolean
                - description: The GMLC Number supported by the GMLC
                  in: query
                  name: gmlc-number
                  schema:
                    pattern: ^[0-9]{5,15}$
                    type: string
            responses:
                "200":
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SearchResult'
                    description: Expected response to a valid request
                    headers:
                        Cache-Control:
                            description: Cache-Control containing max-age, described in IETF RFC 7234, 5.2
                            schema:
                                type: string
                        Content-Encoding:
                            description: Content-Encoding, described in IETF RFC 7231
                            schema:
                                type: string
                        ETag:
                            description: Entity Tag containing a strong validator, described in IETF RFC 7232, 2.3
                            schema:
                                type: string
                    links:
                        completeSearch:
                            description: |
                                The 'searchId' parameter returned in the response can be used as the 'searchId' parameter in the GET request to '/searches/{searchId}/complete'
                            operationId: RetrieveCompleteSearch
                            parameters:
                                searchId: $response.body#/searchId
                        search:
                            description: |
                                The 'searchId' parameter returned in the response can be used as the 'searchId' parameter in the GET request to '/searches/{searchId}'
                            operationId: RetrieveStoredSearch
                            parameters:
                                searchId: $response.body#/searchId
                "307":
                    content:
                        application/json:
                            schema:
                                $ref: TS29571_CommonData.yaml#/components/schemas/RedirectResponse
                    description: Temporary Redirect
                    headers:
                        Location:
                            description: The URI pointing to the resource located on the redirect target NRF
                            required: true
                            schema:
                                type: string
                "308":
                    content:
                        application/json:
                            schema:
                                $ref: TS29571_CommonData.yaml#/components/schemas/RedirectResponse
                    description: Permanent Redirect
                    headers:
                        Location:
                            description: The URI pointing to the resource located on the redirect target NRF
                            required: true
                            schema:
                                type: string
                "400":
                    $ref: TS29571_CommonData.yaml#/components/responses/400
                "401":
                    $ref: TS29571_CommonData.yaml#/components/responses/401
                "403":
                    $ref: TS29571_CommonData.yaml#/components/responses/403
                "404":
                    $ref: TS29571_CommonData.yaml#/components/responses/404
                "406":
                    $ref: TS29571_CommonData.yaml#/components/responses/406
                "411":
                    $ref: TS29571_CommonData.yaml#/components/responses/411
                "413":
                    $ref: TS29571_CommonData.yaml#/components/responses/413
                "415":
                    $ref: TS29571_CommonData.yaml#/components/responses/415
                "429":
                    $ref: TS29571_CommonData.yaml#/components/responses/429
                "500":
                    $ref: TS29571_CommonData.yaml#/components/responses/500
                "501":
                    $ref: TS29571_CommonData.yaml#/components/responses/501
                "503":
                    $ref: TS29571_CommonData.yaml#/components/responses/503
                default:
                    $ref: TS29571_CommonData.yaml#/components/responses/default
            summary: Search a collection of NF Instances
            tags:
                - NF Instances (Store)
    /searches/{searchId}:
        get:
            operationId: RetrieveStoredSearch
            parameters:
                - $ref: '#/components/parameters/searchId'
                - description: Accept-Encoding, described in IETF RFC 7231
                  in: header
                  name: Accept-Encoding
                  schema:
                    type: string
            responses:
                "200":
                    $ref: '#/components/responses/200'
                "307":
                    content:
                        application/json:
                            schema:
                                $ref: TS29571_CommonData.yaml#/components/schemas/RedirectResponse
                    description: Temporary Redirect
                    headers:
                        Location:
                            description: The URI pointing to the resource located on the redirect target NRF
                            required: true
                            schema:
                                type: string
                "308":
                    content:
                        application/json:
                            schema:
                                $ref: TS29571_CommonData.yaml#/components/schemas/RedirectResponse
                    description: Permanent Redirect
                    headers:
                        Location:
                            description: The URI pointing to the resource located on the redirect target NRF
                            required: true
                            schema:
                                type: string
            tags:
                - Stored Search (Document)
    /searches/{searchId}/complete:
        get:
            operationId: RetrieveCompleteSearch
            parameters:
                - $ref: '#/components/parameters/searchId'
                - description: Accept-Encoding, described in IETF RFC 7231
                  in: header
                  name: Accept-Encoding
                  schema:
                    type: string
            responses:
                "200":
                    $ref: '#/components/responses/200'
                "307":
                    content:
                        application/json:
                            schema:
                                $ref: TS29571_CommonData.yaml#/components/schemas/RedirectResponse
                    description: Temporary Redirect
                    headers:
                        Location:
                            description: The URI pointing to the resource located on the redirect target NRF
                            required: true
                            schema:
                                type: string
                "308":
                    content:
                        application/json:
                            schema:
                                $ref: TS29571_CommonData.yaml#/components/schemas/RedirectResponse
                    description: Permanent Redirect
                    headers:
                        Location:
                            description: The URI pointing to the resource located on the redirect target NRF
                            required: true
                            schema:
                                type: string
            tags:
                - Complete Stored Search (Document)
security:
    - {}
    - oAuth2ClientCredentials:
        - nnrf-disc
servers:
    - url: '{apiRoot}/nnrf-disc/v1'
      variables:
        apiRoot:
            default: https://example.com
            description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
