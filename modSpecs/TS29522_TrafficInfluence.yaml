# This is generated file.

components:
    schemas:
        AfAckInfo:
            additionalProperties: true
            properties:
                ackResult:
                    $ref: '#/components/schemas/AfResultInfo'
                afTransId:
                    type: string
                gpsi:
                    $ref: TS29571_CommonData.yaml#/components/schemas/Gpsi
            required:
                - ackResult
            type: object
        AfResultInfo:
            additionalProperties: true
            properties:
                afStatus:
                    $ref: '#/components/schemas/AfResultStatus'
                trafficRoute:
                    $ref: TS29571_CommonData.yaml#/components/schemas/RouteToLocation
            required:
                - afStatus
            type: object
        AfResultStatus:
            description: |
                Possible values are - SUCCESS: The application layer is ready or the relocation is completed. - TEMPORARY_CONGESTION: The application relocation fails due to temporary congestion. - RELOC_NO_ALLOWED: The application relocation fails because application relocation is not allowed. - OTHER: The application relocation fails due to other reason.
            enum:
                - SUCCESS
                - TEMPORARY_CONGESTION
                - RELOC_NO_ALLOWED
                - OTHER
            type: string
        EventNotification:
            additionalProperties: true
            properties:
                afAckUri:
                    $ref: TS29122_CommonData.yaml#/components/schemas/Link
                afTransId:
                    description: Identifies an NEF Northbound interface transaction, generated by the AF.
                    type: string
                dnaiChgType:
                    $ref: TS29571_CommonData.yaml#/components/schemas/DnaiChangeType
                gpsi:
                    $ref: TS29571_CommonData.yaml#/components/schemas/Gpsi
                sourceDnai:
                    $ref: TS29571_CommonData.yaml#/components/schemas/Dnai
                sourceTrafficRoute:
                    $ref: TS29571_CommonData.yaml#/components/schemas/RouteToLocation
                srcUeIpv4Addr:
                    $ref: TS29122_CommonData.yaml#/components/schemas/Ipv4Addr
                srcUeIpv6Prefix:
                    $ref: TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix
                subscribedEvent:
                    $ref: '#/components/schemas/SubscribedEvent'
                targetDnai:
                    $ref: TS29571_CommonData.yaml#/components/schemas/Dnai
                targetTrafficRoute:
                    $ref: TS29571_CommonData.yaml#/components/schemas/RouteToLocation
                tgtUeIpv4Addr:
                    $ref: TS29122_CommonData.yaml#/components/schemas/Ipv4Addr
                tgtUeIpv6Prefix:
                    $ref: TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix
                ueMac:
                    $ref: TS29571_CommonData.yaml#/components/schemas/MacAddr48
            required:
                - dnaiChgType
                - subscribedEvent
            type: object
        SubscribedEvent:
            description: |
                Possible values are - UP_PATH_CHANGE: The AF requests to be notified when the UP path changes for the PDU session.
            enum:
                - UP_PATH_CHANGE
            type: string
        TrafficInfluSub:
            additionalProperties: true
            properties:
                addrPreserInd:
                    type: boolean
                afAckInd:
                    type: boolean
                afAppId:
                    description: Identifies an application.
                    type: string
                afServiceId:
                    description: Identifies a service on behalf of which the AF is issuing the request.
                    type: string
                afTransId:
                    description: Identifies an NEF Northbound interface transaction, generated by the AF.
                    type: string
                anyUeInd:
                    description: Identifies whether the AF request applies to any UE. This attribute shall set to "true" if applicable for any UE, otherwise, set to "false".
                    type: boolean
                appReloInd:
                    description: Identifies whether an application can be relocated once a location of the application has been selected.
                    type: boolean
                dnaiChgType:
                    $ref: TS29571_CommonData.yaml#/components/schemas/DnaiChangeType
                dnn:
                    $ref: TS29571_CommonData.yaml#/components/schemas/Dnn
                ethTrafficFilters:
                    description: Identifies Ethernet packet filters.
                    items:
                        $ref: TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/EthFlowDescription
                    minItems: 1
                    type: array
                    x-go-type-skip-optional-pointer: true
                externalGroupId:
                    $ref: TS29122_CommonData.yaml#/components/schemas/ExternalGroupId
                gpsi:
                    $ref: TS29571_CommonData.yaml#/components/schemas/Gpsi
                ipDomain:
                    type: string
                ipv4Addr:
                    $ref: TS29122_CommonData.yaml#/components/schemas/Ipv4Addr
                ipv6Addr:
                    $ref: TS29122_CommonData.yaml#/components/schemas/Ipv6Addr
                macAddr:
                    $ref: TS29571_CommonData.yaml#/components/schemas/MacAddr48
                notificationDestination:
                    $ref: TS29122_CommonData.yaml#/components/schemas/Link
                requestTestNotification:
                    description: Set to true by the SCS/AS to request the NEF to send a test notification as defined in subclause 5.2.5.3. Set to false or omitted otherwise.
                    type: boolean
                self:
                    $ref: TS29122_CommonData.yaml#/components/schemas/Link
                snssai:
                    $ref: TS29571_CommonData.yaml#/components/schemas/Snssai
                subscribedEvents:
                    description: Identifies the requirement to be notified of the event(s).
                    items:
                        $ref: '#/components/schemas/SubscribedEvent'
                    minItems: 1
                    type: array
                    x-go-type-skip-optional-pointer: true
                suppFeat:
                    $ref: TS29571_CommonData.yaml#/components/schemas/SupportedFeatures
                tempValidities:
                    items:
                        $ref: TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/TemporalValidity
                    type: array
                tfcCorrInd:
                    type: boolean
                trafficFilters:
                    description: Identifies IP packet filters.
                    items:
                        $ref: TS29122_CommonData.yaml#/components/schemas/FlowInfo
                    minItems: 1
                    type: array
                    x-go-type-skip-optional-pointer: true
                trafficRoutes:
                    description: Identifies the N6 traffic routing requirement.
                    items:
                        $ref: TS29571_CommonData.yaml#/components/schemas/RouteToLocation
                    minItems: 1
                    type: array
                    x-go-type-skip-optional-pointer: true
                validGeoZoneIds:
                    description: Identifies a geographic zone that the AF request applies only to the traffic of UE(s) located in this specific zone.
                    items:
                        type: string
                    minItems: 1
                    type: array
                    x-go-type-skip-optional-pointer: true
                websockNotifConfig:
                    $ref: TS29122_CommonData.yaml#/components/schemas/WebsockNotifConfig
            type: object
        TrafficInfluSubPatch:
            additionalProperties: true
            properties:
                addrPreserInd:
                    nullable: true
                    type: boolean
                afAckInd:
                    nullable: true
                    type: boolean
                appReloInd:
                    description: Identifies whether an application can be relocated once a location of the application has been selected.
                    nullable: true
                    type: boolean
                ethTrafficFilters:
                    description: Identifies Ethernet packet filters.
                    items:
                        $ref: TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/EthFlowDescription
                    minItems: 1
                    type: array
                    x-go-type-skip-optional-pointer: true
                tempValidities:
                    items:
                        $ref: TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/TemporalValidity
                    minItems: 1
                    nullable: true
                    type: array
                tfcCorrInd:
                    nullable: true
                    type: boolean
                trafficFilters:
                    description: Identifies IP packet filters.
                    items:
                        $ref: TS29122_CommonData.yaml#/components/schemas/FlowInfo
                    minItems: 1
                    type: array
                    x-go-type-skip-optional-pointer: true
                trafficRoutes:
                    description: Identifies the N6 traffic routing requirement.
                    items:
                        $ref: TS29571_CommonData.yaml#/components/schemas/RouteToLocation
                    minItems: 1
                    type: array
                    x-go-type-skip-optional-pointer: true
                validGeoZoneIds:
                    description: Identifies a geographic zone that the AF request applies only to the traffic of UE(s) located in this specific zone.
                    items:
                        type: string
                    minItems: 1
                    nullable: true
                    type: array
            type: object
    securitySchemes:
        oAuth2ClientCredentials:
            flows:
                clientCredentials:
                    scopes: {}
                    tokenUrl: '{tokenUrl}'
            type: oauth2
externalDocs:
    description: 3GPP TS 29.522 V16.7.0; 5G System; Network Exposure Function Northbound APIs.
    url: http://www.3gpp.org/ftp/Specs/archive/29_series/29.522/
info:
    description: |
        API for AF traffic influence
        © 2021, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).
        All rights reserved.
    title: 3gpp-traffic-influence
    version: 1.1.2
openapi: 3.0.0
paths:
    /{afId}/subscriptions:
        get:
            responses:
                "200":
                    content:
                        application/json:
                            schema:
                                items:
                                    $ref: '#/components/schemas/TrafficInfluSub'
                                type: array
                    description: OK.
                "307":
                    $ref: TS29122_CommonData.yaml#/components/responses/307
                "308":
                    $ref: TS29122_CommonData.yaml#/components/responses/308
                "400":
                    $ref: TS29122_CommonData.yaml#/components/responses/400
                "401":
                    $ref: TS29122_CommonData.yaml#/components/responses/401
                "403":
                    $ref: TS29122_CommonData.yaml#/components/responses/403
                "404":
                    $ref: TS29122_CommonData.yaml#/components/responses/404
                "406":
                    $ref: TS29122_CommonData.yaml#/components/responses/406
                "429":
                    $ref: TS29122_CommonData.yaml#/components/responses/429
                "500":
                    $ref: TS29122_CommonData.yaml#/components/responses/500
                "503":
                    $ref: TS29122_CommonData.yaml#/components/responses/503
                default:
                    content:
                        application/problem+json:
                            schema:
                                $ref: TS29571_CommonData.yaml#/components/schemas/ProblemDetails
                    description: Generic Error
            summary: read all of the active subscriptions for the AF
            tags:
                - Traffic Influence Subscription
        parameters:
            - description: Identifier of the AF
              in: path
              name: afId
              required: true
              schema:
                type: string
        post:
            callbacks:
                notificationDestination:
                    '{request.body#/notificationDestination}':
                        post:
                            callbacks:
                                afAcknowledgement:
                                    '{request.body#/afAckUri}':
                                        post:
                                            requestBody:
                                                content:
                                                    application/json:
                                                        schema:
                                                            $ref: '#/components/schemas/AfAckInfo'
                                                required: true
                                            responses:
                                                "204":
                                                    description: No Content (successful acknowledgement)
                                                "307":
                                                    $ref: TS29122_CommonData.yaml#/components/responses/307
                                                "308":
                                                    $ref: TS29122_CommonData.yaml#/components/responses/308
                                                "400":
                                                    $ref: TS29122_CommonData.yaml#/components/responses/400
                                                "401":
                                                    $ref: TS29122_CommonData.yaml#/components/responses/401
                                                "403":
                                                    $ref: TS29122_CommonData.yaml#/components/responses/403
                                                "404":
                                                    $ref: TS29122_CommonData.yaml#/components/responses/404
                                                "411":
                                                    $ref: TS29122_CommonData.yaml#/components/responses/411
                                                "413":
                                                    $ref: TS29122_CommonData.yaml#/components/responses/413
                                                "415":
                                                    $ref: TS29122_CommonData.yaml#/components/responses/415
                                                "429":
                                                    $ref: TS29122_CommonData.yaml#/components/responses/429
                                                "500":
                                                    $ref: TS29122_CommonData.yaml#/components/responses/500
                                                "503":
                                                    $ref: TS29122_CommonData.yaml#/components/responses/503
                                                default:
                                                    $ref: TS29122_CommonData.yaml#/components/responses/default
                            requestBody:
                                content:
                                    application/json:
                                        schema:
                                            $ref: '#/components/schemas/EventNotification'
                                required: true
                            responses:
                                "204":
                                    description: No Content (successful notification)
                                "307":
                                    $ref: TS29122_CommonData.yaml#/components/responses/307
                                "308":
                                    $ref: TS29122_CommonData.yaml#/components/responses/308
                                "400":
                                    $ref: TS29122_CommonData.yaml#/components/responses/400
                                "401":
                                    $ref: TS29122_CommonData.yaml#/components/responses/401
                                "403":
                                    $ref: TS29122_CommonData.yaml#/components/responses/403
                                "404":
                                    $ref: TS29122_CommonData.yaml#/components/responses/404
                                "411":
                                    $ref: TS29122_CommonData.yaml#/components/responses/411
                                "413":
                                    $ref: TS29122_CommonData.yaml#/components/responses/413
                                "415":
                                    $ref: TS29122_CommonData.yaml#/components/responses/415
                                "429":
                                    $ref: TS29122_CommonData.yaml#/components/responses/429
                                "500":
                                    $ref: TS29122_CommonData.yaml#/components/responses/500
                                "503":
                                    $ref: TS29122_CommonData.yaml#/components/responses/503
                                default:
                                    $ref: TS29122_CommonData.yaml#/components/responses/default
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/TrafficInfluSub'
                description: Request to create a new subscription resource
                required: true
            responses:
                "201":
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/TrafficInfluSub'
                    description: Created (Successful creation of subscription)
                    headers:
                        Location:
                            description: Contains the URI of the newly created resource
                            required: true
                            schema:
                                type: string
                "400":
                    $ref: TS29122_CommonData.yaml#/components/responses/400
                "401":
                    $ref: TS29122_CommonData.yaml#/components/responses/401
                "403":
                    $ref: TS29122_CommonData.yaml#/components/responses/403
                "404":
                    $ref: TS29122_CommonData.yaml#/components/responses/404
                "411":
                    $ref: TS29122_CommonData.yaml#/components/responses/411
                "413":
                    $ref: TS29122_CommonData.yaml#/components/responses/413
                "415":
                    $ref: TS29122_CommonData.yaml#/components/responses/415
                "429":
                    $ref: TS29122_CommonData.yaml#/components/responses/429
                "500":
                    $ref: TS29122_CommonData.yaml#/components/responses/500
                "503":
                    $ref: TS29122_CommonData.yaml#/components/responses/503
                default:
                    content:
                        application/problem+json:
                            schema:
                                $ref: TS29571_CommonData.yaml#/components/schemas/ProblemDetails
                    description: Generic Error
            summary: Creates a new subscription resource
            tags:
                - Traffic Influence Subscription
    /{afId}/subscriptions/{subscriptionId}:
        delete:
            responses:
                "204":
                    description: No Content (Successful deletion of the existing subscription)
                "307":
                    $ref: TS29122_CommonData.yaml#/components/responses/307
                "308":
                    $ref: TS29122_CommonData.yaml#/components/responses/308
                "400":
                    $ref: TS29122_CommonData.yaml#/components/responses/400
                "401":
                    $ref: TS29122_CommonData.yaml#/components/responses/401
                "403":
                    $ref: TS29122_CommonData.yaml#/components/responses/403
                "404":
                    $ref: TS29122_CommonData.yaml#/components/responses/404
                "429":
                    $ref: TS29122_CommonData.yaml#/components/responses/429
                "500":
                    $ref: TS29122_CommonData.yaml#/components/responses/500
                "503":
                    $ref: TS29122_CommonData.yaml#/components/responses/503
                default:
                    content:
                        application/problem+json:
                            schema:
                                $ref: TS29571_CommonData.yaml#/components/schemas/ProblemDetails
                    description: Generic Error
            summary: Deletes an already existing subscription
            tags:
                - Individual Traffic Influence Subscription
        get:
            responses:
                "200":
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/TrafficInfluSub'
                    description: OK (Successful get the active subscription)
                "307":
                    $ref: TS29122_CommonData.yaml#/components/responses/307
                "308":
                    $ref: TS29122_CommonData.yaml#/components/responses/308
                "400":
                    $ref: TS29122_CommonData.yaml#/components/responses/400
                "401":
                    $ref: TS29122_CommonData.yaml#/components/responses/401
                "403":
                    $ref: TS29122_CommonData.yaml#/components/responses/403
                "404":
                    $ref: TS29122_CommonData.yaml#/components/responses/404
                "406":
                    $ref: TS29122_CommonData.yaml#/components/responses/406
                "429":
                    $ref: TS29122_CommonData.yaml#/components/responses/429
                "500":
                    $ref: TS29122_CommonData.yaml#/components/responses/500
                "503":
                    $ref: TS29122_CommonData.yaml#/components/responses/503
                default:
                    content:
                        application/problem+json:
                            schema:
                                $ref: TS29571_CommonData.yaml#/components/schemas/ProblemDetails
                    description: Generic Error
            summary: read an active subscriptions for the SCS/AS and the subscription Id
            tags:
                - Individual Traffic Influence Subscription
        parameters:
            - description: Identifier of the AF
              in: path
              name: afId
              required: true
              schema:
                type: string
            - description: Identifier of the subscription resource
              in: path
              name: subscriptionId
              required: true
              schema:
                type: string
        patch:
            requestBody:
                content:
                    application/merge-patch+json:
                        schema:
                            $ref: '#/components/schemas/TrafficInfluSubPatch'
                required: true
            responses:
                "200":
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/TrafficInfluSub'
                    description: OK. The subscription was modified successfully.
                "307":
                    $ref: TS29122_CommonData.yaml#/components/responses/307
                "308":
                    $ref: TS29122_CommonData.yaml#/components/responses/308
                "400":
                    $ref: TS29122_CommonData.yaml#/components/responses/400
                "401":
                    $ref: TS29122_CommonData.yaml#/components/responses/401
                "403":
                    $ref: TS29122_CommonData.yaml#/components/responses/403
                "404":
                    $ref: TS29122_CommonData.yaml#/components/responses/404
                "411":
                    $ref: TS29122_CommonData.yaml#/components/responses/411
                "413":
                    $ref: TS29122_CommonData.yaml#/components/responses/413
                "415":
                    $ref: TS29122_CommonData.yaml#/components/responses/415
                "429":
                    $ref: TS29122_CommonData.yaml#/components/responses/429
                "500":
                    $ref: TS29122_CommonData.yaml#/components/responses/500
                "503":
                    $ref: TS29122_CommonData.yaml#/components/responses/503
                default:
                    content:
                        application/problem+json:
                            schema:
                                $ref: TS29571_CommonData.yaml#/components/schemas/ProblemDetails
                    description: Generic Error
            summary: Updates/replaces an existing subscription resource
            tags:
                - Individual Traffic Influence Subscription
        put:
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/TrafficInfluSub'
                description: Parameters to update/replace the existing subscription
                required: true
            responses:
                "200":
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/TrafficInfluSub'
                    description: OK (Successful update of the subscription)
                "307":
                    $ref: TS29122_CommonData.yaml#/components/responses/307
                "308":
                    $ref: TS29122_CommonData.yaml#/components/responses/308
                "400":
                    $ref: TS29122_CommonData.yaml#/components/responses/400
                "401":
                    $ref: TS29122_CommonData.yaml#/components/responses/401
                "403":
                    $ref: TS29122_CommonData.yaml#/components/responses/403
                "404":
                    $ref: TS29122_CommonData.yaml#/components/responses/404
                "411":
                    $ref: TS29122_CommonData.yaml#/components/responses/411
                "413":
                    $ref: TS29122_CommonData.yaml#/components/responses/413
                "415":
                    $ref: TS29122_CommonData.yaml#/components/responses/415
                "429":
                    $ref: TS29122_CommonData.yaml#/components/responses/429
                "500":
                    $ref: TS29122_CommonData.yaml#/components/responses/500
                "503":
                    $ref: TS29122_CommonData.yaml#/components/responses/503
                default:
                    content:
                        application/problem+json:
                            schema:
                                $ref: TS29571_CommonData.yaml#/components/schemas/ProblemDetails
                    description: Generic Error
            summary: Updates/replaces an existing subscription resource
            tags:
                - Individual Traffic Influence Subscription
security:
    - {}
    - oAuth2ClientCredentials: []
servers:
    - url: '{apiRoot}/3gpp-traffic-influence/v1'
      variables:
        apiRoot:
            default: https://example.com
            description: apiRoot as defined in subclause 5.2.4 of 3GPP TS 29.122.
